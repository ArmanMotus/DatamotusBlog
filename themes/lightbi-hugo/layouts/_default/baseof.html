<!DOCTYPE html>

<html lang="{{ .Lang }}" itemscope itemtype="http://schema.org/WebPage">
  <head>
    {{ partial "head.html" . }}
  </head>
  <body>
    {{ block "header" . }}{{ partial "header.html" . }}{{ end }}
    {{ block "main" . }}{{ end }}
    
  </body>
  
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
    let lastHeight = document.body.clientHeight;

    new MutationObserver(() => {
      let newHeight = document.body.clientHeight;
      if (lastHeight !== newHeight) {
        window.parent.postMessage({ frameHeight: newHeight }, '*');
        lastHeight = newHeight;
      }
    }).observe(document.body, { attributes: true, childList: true, subtree: true });
});
</script>
</html>
