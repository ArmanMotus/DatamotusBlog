<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Changes in air pollution - </title>
<meta name="description" content="It is hard to eliminate the health effects of the toxic contaminators on health. Air pollutants can be the cause of death from stroke, lung cancer, childhood cancer, and another heart disease. Apart from affecting our health, a decrease in the level of air quality is causing long-term environmental damage by driving climate change, which is itself a danger for people and their health. In the article, changes in the quality of air are detected using historical data of four types of air pollutants - carbon dioxide, sulfur dioxide, particulate matter and concentration of ozone in the air...">
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "",
    
    "url": "https:\/\/DatamotusBlog.netlify.app\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/DatamotusBlog.netlify.app\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/DatamotusBlog.netlify.app\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/DatamotusBlog.netlify.app\/notes\/2020\/2020-01-09-changes-in-air-pollution\/",
          "name": "Changes in air pollution"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "Changes in air pollution",
  "description" : "It is hard to eliminate the health effects of the toxic contaminators on health. Air pollutants can be the cause of death from stroke, lung cancer, childhood cancer, and another heart disease. Apart from affecting our health, a decrease in the level of air quality is causing long-term environmental damage by driving climate change, which is itself a danger for people and their health. In the article, changes in the quality of air are detected using historical data of four types of air pollutants - carbon dioxide, sulfur dioxide, particulate matter and concentration of ozone in the air...",
  "inLanguage" : "en",
  "wordCount":  3953 ,
  "datePublished" : "2020-01-09T00:00:00",
  "dateModified" : "2020-01-09T00:00:00",
  "image" : "https:\/\/DatamotusBlog.netlify.app\/",
  "keywords" : [ "Data Analysis, Air Quality Monitoring, Environmental Science, Outlier Detection, Ozone Concentration, Carbon Dioxide Emissions, Health Risks, Climate Change, Sulphur Dioxide Emissions, Lung Cancer, WHO" ],
  "mainEntityOfPage" : "https:\/\/DatamotusBlog.netlify.app\/notes\/2020\/2020-01-09-changes-in-air-pollution\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/DatamotusBlog.netlify.app\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/DatamotusBlog.netlify.app\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:url" content="https://DatamotusBlog.netlify.app/notes/2020/2020-01-09-changes-in-air-pollution/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="">
   
<link rel="apple-touch-icon" sizes="180x180" href=" https://DatamotusBlog.netlify.app/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://DatamotusBlog.netlify.app/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://DatamotusBlog.netlify.app/favicon/favicon-16x16.png">


<meta name="generator" content="Hugo 0.113.0"><link rel="alternate" href="https://DatamotusBlog.netlify.app/index.xml" type="application/rss+xml" title="">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://DatamotusBlog.netlify.app/css/main.css">
<link disabled id="dark-mode-theme" rel="stylesheet" href="https://DatamotusBlog.netlify.app/css/dark.css"><link rel="stylesheet" href="https://DatamotusBlog.netlify.app/css/syntax.css"><link rel="stylesheet" href="https://DatamotusBlog.netlify.app/css/codeblock.css">



<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    },
    CommonHTML: { linebreaks: { automatic: true } },
    "HTML-CSS": { linebreaks: { automatic: true } },
    SVG: { linebreaks: { automatic: true } }
  });
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML" type="text/javascript"></script>




    <script>
  window.onload = function() {
    const currentURL = window.location.href;
    window.parent.postMessage(currentURL, '*');
  }

  window.onhashchange = function() {
    const currentURL = window.location.href;
    window.parent.postMessage(currentURL, '*');
  }
</script>


  </head>
  <body>
    









<header class="header-section ">

  <div class="intro-header no-img mt-10">
    <div class="container">
      <div class="row justify-content-center">
        
        <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8">
          

          
          <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
            

            <div class="notes-heading">
              

              

              
              <h1 class="fw-semibold display-5 lh-1 mb-3"> 
                Changes in air pollution
                
              </h1>
              
              

              

              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 ">
      <div class="card-image card-image-blog p-0">
        
        
      </div>
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      <article role="main" class="blog-post">
        <p><img src="../Changes-in-air-pollution/website5.jpeg" alt="image"></p>
<h2 id="introduction">Introduction</h2>
<p>Even without visible smog, air pollution is all around us, and thus it
is hard to eliminate the health effects of the toxic contaminators on
health. The harmful effect of air pollutants is widely investigated in
different researches conducted in many regions of the world. Air
pollutants can be the cause of death from stroke, lung cancer, and
another heart disease. Air pollution has a pernicious effect on children
and it trigger childhood cancer. All over the world, up to 14% of 5 &ndash;
18 years-old children have asthma relating to factors including air
pollution (see <a href="https://www.who.int/airpollution/news-and-events/how-air-pollution-is-destroying-our-health">World Health
Organisation</a>
for details). Besides, air pollution drives <strong>climate change</strong> (the main
driver of climate change is fossil fuel combustion), which itself can be
the problem for well-being.</p>
<p>An assessment by WHO concluded that, in 2016, 91% of the world
population was living in places where the WHO air quality guidelines
levels were not met. In order to protect public health, WHO created air
quality standards, which suggest limits for four main air pollutants.
According to <a href="https://apps.who.int/iris/bitstream/handle/10665/69477/WHO_SDE_PHE_OEH_06.02_eng.pdf?sequence=1">WHO Air quality
guidelines</a>
estimates, air pollution is the cause of 3 million deaths per year. The
evaluation of WHO shows, that the death caused by air pollution can be
decreased by around 15% as a result of reduction in particulate matter
(PM10) pollution from 70 to 20 micrograms per cubic meter.</p>
<p>Many countries fail to monitor pollutant concentrations in the air.
However, now a combination of satellite data, air transport models and
local meteorological conditions can provide a good evaluation of air
quality. Outdoor air pollution can be defined as the emission of harmful
substances into the atmosphere. This broad definition, encapsulates a
number of pollutants, including:</p>
<ul>
<li>sulphur dioxide ($SO_2$),</li>
<li>nitrogen oxides ($NO_x$),</li>
<li>ozone ($O_3$),</li>
<li>particulate matter,</li>
<li>carbon monoxide ($CO$)</li>
<li>carbon dioxide ($CO_2$)</li>
<li>and volatile organic compounds ($VOC_s$).</li>
</ul>
<h1 id="data-description">Data description</h1>
<p>We took the historical data of emissions of the following four types of
pollutants: <a href="https://ourworldindata.org/co2-and-other-greenhouse-gas-emissions">carbon
dioxide</a>,
<a href="https://ourworldindata.org/grapher/so-emissions-per-capita-tonnes-per-year">sulphur
dioxide</a>
per person, <a href="https://ourworldindata.org/air-pollution">particulate
matter</a> measuring less than
2.5Âµm (micrometers) in diameter,
<a href="https://ourworldindata.org/grapher/ozone-o3-concentration-in-ppb?country=CHN+JPN+SAU+SWE+USA+ZWE">ozone</a>
based on territorial emissions derived by <a href="https://ourworldindata.org/">Our World in
Data</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#75715e"># load the required libraries used in the article</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">if </span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;pacman&#34;</span>)) <span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;pacman&#34;</span>)
</span></span><span style="display:flex;"><span> pacman<span style="color:#f92672">::</span><span style="color:#a6e22e">p_load</span>(ggplot2, dplyr, kableExtra, tidyverse, 
</span></span><span style="display:flex;"><span> magrittr, ggmap, ggpubr, stringr,    RColorBrewer, reshape2)
</span></span></code></pre></div><p>The variables <code>Entity</code> and <code>Code</code> show the country and/ or area and its
code, where the level of a particular pollutant was measured.</p>
<h3 id="carbon-dioxide-co2">Carbon dioxide (CO2)</h3>
<pre tabindex="0"><code>  co &lt;- read.csv(&#34;co.csv&#34;)
  range(unique(co$Year))
</code></pre><pre tabindex="0"><code> [1] 1800 2017
</code></pre><p>The number of observations in the initial data is 16739 and the covered
time span is 1800-2017. Data contains 194 countries.</p>
<p>The variable <code>Co2</code> shows the tonnes of measured carbon dioxide data has
been converted from tonnes of carbon to tonnes of carbon dioxide
($CO_2$) using a conversion factor of 3.664). Carbon Dioxide commonly
enters the body through breathing indoor and outdoor air, vehicle
exhaust, and fumes from heating or cooking and via skin contact -
touching dry ice. Carbon dioxide can cause suffocation, incapacitation
and unconsciousness, vertigo and double vision, headaches, inability to
concentrate, tinnitus and seizures. The long-term exposure of $CO_2$ can
cause changes in bone calcium and body metabolism. When levels of CO2
rise and there is less fresh air, it <a href="https://www.airthings.com/es/what-is-carbon-dioxide">can
cause</a>
restlessness, drowsiness and more. High levels are directly correlated
to low productivity, high sick leave and infectious disease
transmission.</p>
<p>The acceptable level of $CO_2$ in the air is 400ppm (ppm is parts per
million). The level of 2000ppm can cause symptoms like sweating,
increased heart rate and difficulty during breathing will occur.</p>
<p>The summary of carbon dioxide emissions is represented below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">summary</span>(co<span style="color:#f92672">$</span>Co2)
</span></span></code></pre></div><pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.000   0.201   1.071   3.555   4.503 252.645
##    Sulphur dioxide (SO2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> so <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;so.csv&#34;</span>)
</span></span></code></pre></div><p>The number of observations in the initial data is 2079 and the covered
time span is 1850-2000 (represented by decades). Data contains 130
countries.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">range</span>(<span style="color:#a6e22e">unique</span>(so<span style="color:#f92672">$</span>Year))
</span></span></code></pre></div><pre><code>## [1] 1850 2000
</code></pre>
<p>The variable <code>So2</code> shows the tonnes of measured emissions per capita
(1850-2000). One of the main causes of $SO_2$ emissions is the use of
coal as a source of energy. $SO_2$ emissions sharply rise after
industrialisation: the increase in emission is as a result of
large-scale burning of sulphur-containing fuels and industrial
processing.</p>
<p>Sulfure dioxide can be the cause of health problems like asthma,
bronchial symptoms, lung inflammation, reduced lung function and causes
irritation of the eyes. Sulfuric acid (combination of $SO2$ and water)
is the main component of acid rain which is the cause of deforestation.
The guideline values for sulfure dioxide is 20 $\frac{mg}{m^3}$ 24-hour
mean.</p>
<p>The summary of sulphur dioxide emissions is represented below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">summary</span>(so<span style="color:#f92672">$</span>So2)
</span></span></code></pre></div><pre><code>##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## 0.0000167 0.0002001 0.0015000 0.0178443 0.0162977 0.4250609
## Particulate matter (PM)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> pm <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;pm.csv&#34;</span>)
</span></span></code></pre></div><p>The number of observations in the initial data is 2090 and the covered
time span is 1990-2016 (the frequency of the data is not regular). Data
contains 189 countries.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>  <span style="color:#a6e22e">range</span>(<span style="color:#a6e22e">unique</span>(pm<span style="color:#f92672">$</span>Year))
</span></span></code></pre></div><pre><code>## [1] 1990 2016
</code></pre>
<p>The variable <code>PM</code> shows the average level of exposure of a nation&rsquo;s
population to concentrations of suspended particles measuring less than
2.5 microns in aerodynamic diameter. The calculations had been done by
using weighting mean annual concentrations of PM2.5 by population.
Actually, one of the most harmful air pollutant is a particulate matter,
which is capable of penetrating deep into the respiratory tract and
increases the risk of heart, respiratory diseases and lung cancer. This
pollutant can originate from natural or man-made sources, mainly from
fuel combustion and road traffic. According to the WHO Air Quality
Guideline the limits for PM is 10 $\frac{mg}{m^3}$ annual mean.</p>
<p>The summary of this variable is represented below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>  <span style="color:#a6e22e">summary</span>(pm<span style="color:#f92672">$</span>PM)
</span></span></code></pre></div><pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   3.291  15.199  21.950  30.160  37.624 203.744

## Ozone (O3)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> oz <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">read.csv</span>(<span style="color:#e6db74">&#34;oz.csv&#34;</span>)
</span></span></code></pre></div><p>The number of observations in the initial data is 1316 and the covered
time span is 1990-2015 (the frequency of the data is not regular). Data
contains 188 countries.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">range</span>(<span style="color:#a6e22e">unique</span>(oz<span style="color:#f92672">$</span>Year))
</span></span></code></pre></div><pre><code>## [1] 1990 2015
</code></pre>
<p>The variable <code>OZ</code> shows population-weighted ozone ($O_3$) concentration
by country (1990-2015) in parts per billion (ppb). As source states,
data is gathered based on a combination of air quality observations from
satellites combined with information from global chemical transport
models, and available ground measurements. A global chemical transport
model was used to calculate a seasonal (summer, when temperatures are
highest) average concentration. Taking into account the population in
each block within a country, this data is then aggregated as estimated
exposure concentrations to national-level population-weighted averages
for a given year.</p>
<p>Ozone is can be the cause of asthma or the cause of making it worse.
Ozone is mainly caused by the reaction of sunlight with pollutants from
vehicle emissions. Ozone is major constituents of photochemical smog.
The highest levels of ozone pollution occur during periods of sunny
weather. According to the WHO Air Quality Guideline the limits for ozone
is 100 $\frac{mg}{m^3}$ 8-hour mean.</p>
<p>The summary of the level of ozone concentration is represented below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">summary</span>(oz<span style="color:#f92672">$</span>OZ)
</span></span></code></pre></div><pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    5.00   45.00   54.00   54.55   63.00  116.00
</code></pre>
<h2 id="categorizationgrouping">Categorization/Grouping</h2>
<p>In order to see the changes in air pollution worldwide, let us
categorize pollutants, by using unequal-size groups. As in the equal
categorization groups with extreme values contain only a few
observations, the extremal values are included in the same group (the
last or the first). See the code below for grouping four above-mentioned
pollutant types; the new variable <code>group</code> for each data will be created.</p>
<h2 id="creating-groups">Creating groups</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> co<span style="color:#f92672">$</span>group <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cut</span>(co<span style="color:#f92672">$</span>Co2, breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1.5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">12.5</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">37.5</span>, <span style="color:#a6e22e">max</span>(co<span style="color:#f92672">$</span>Co2)))
</span></span><span style="display:flex;"><span> so<span style="color:#f92672">$</span>group <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cut</span>(so<span style="color:#f92672">$</span>So2, breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.001</span>, <span style="color:#ae81ff">0.017</span>, <span style="color:#ae81ff">0.034</span>, <span style="color:#ae81ff">0.07</span>, <span style="color:#ae81ff">0.2</span>, <span style="color:#a6e22e">max</span>(so<span style="color:#f92672">$</span>So2)))
</span></span><span style="display:flex;"><span> pm<span style="color:#f92672">$</span>group <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cut</span>(pm<span style="color:#f92672">$</span>PM, breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#a6e22e">min</span>(pm<span style="color:#f92672">$</span>PM), <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">44.7</span>, <span style="color:#ae81ff">65.4</span>, <span style="color:#ae81ff">86.1</span>, <span style="color:#a6e22e">max</span>(pm<span style="color:#f92672">$</span>PM)))
</span></span><span style="display:flex;"><span> oz<span style="color:#f92672">$</span>group <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cut</span>(oz<span style="color:#f92672">$</span>OZ, breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#a6e22e">min</span>(oz<span style="color:#f92672">$</span>OZ), <span style="color:#ae81ff">34.9</span>, <span style="color:#ae81ff">45.7</span>, <span style="color:#ae81ff">56.6</span>, <span style="color:#ae81ff">67.4</span>, <span style="color:#ae81ff">78.3</span>, <span style="color:#a6e22e">max</span>(oz<span style="color:#f92672">$</span>OZ)))
</span></span><span style="display:flex;"><span> gr <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">table</span>(co<span style="color:#f92672">$</span>group), <span style="color:#a6e22e">rbind</span>(<span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">table</span>(so<span style="color:#f92672">$</span>group)), <span style="color:#a6e22e">c</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#66d9ef">NA</span>)), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">rbind</span>(<span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">table</span>(pm<span style="color:#f92672">$</span>group)), <span style="color:#a6e22e">c</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#66d9ef">NA</span>)), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">rbind</span>(<span style="color:#a6e22e">data.frame</span>(<span style="color:#a6e22e">table</span>(oz<span style="color:#f92672">$</span>group)), <span style="color:#a6e22e">c</span>(<span style="color:#66d9ef">NA</span>, <span style="color:#66d9ef">NA</span>)))
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">colnames</span>(gr) <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;CO2&#34;</span>, <span style="color:#e6db74">&#34;Freq CO2&#34;</span>, <span style="color:#e6db74">&#34;SO2&#34;</span>, <span style="color:#e6db74">&#34;Freq SO2&#34;</span>, <span style="color:#e6db74">&#34;PM&#34;</span>, <span style="color:#e6db74">&#34;Freq PM&#34;</span>, <span style="color:#e6db74">&#34;OZ&#34;</span>, <span style="color:#e6db74">&#34;Freq OZ&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(gr, digits <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>CO2</th>
<th>Freq CO2</th>
<th>SO2</th>
<th>Freq SO2</th>
<th>PM</th>
<th>Freq PM</th>
<th>OZ</th>
<th>Freq OZ</th>
</tr>
</thead>
<tbody>
<tr>
<td>(0,1.5]</td>
<td>8936</td>
<td>(0,0.001]</td>
<td>970</td>
<td>(3.29,12]</td>
<td>330</td>
<td>(5,34.9]</td>
<td>67</td>
</tr>
<tr>
<td>(1.5,3]</td>
<td>1970</td>
<td>(0.001,0.017]</td>
<td>598</td>
<td>(12,24]</td>
<td>803</td>
<td>(34.9,45.7]</td>
<td>276</td>
</tr>
<tr>
<td>(3,6]</td>
<td>2106</td>
<td>(0.017,0.034]</td>
<td>186</td>
<td>(24,44.7]</td>
<td>527</td>
<td>(45.7,56.6]</td>
<td>377</td>
</tr>
<tr>
<td>(6,12.5]</td>
<td>2365</td>
<td>(0.034,0.07]</td>
<td>176</td>
<td>(44.7,65.4]</td>
<td>265</td>
<td>(56.6,67.4]</td>
<td>391</td>
</tr>
<tr>
<td>(12.5,25]</td>
<td>698</td>
<td>(0.07,0.2]</td>
<td>128</td>
<td>(65.4,86.1]</td>
<td>93</td>
<td>(67.4,78.3]</td>
<td>161</td>
</tr>
<tr>
<td>(25,37.5]</td>
<td>146</td>
<td>(0.2,0.425]</td>
<td>21</td>
<td>(86.1,204]</td>
<td>71</td>
<td>(78.3,116]</td>
<td>41</td>
</tr>
<tr>
<td>(37.5,253]</td>
<td>94</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="maps">Maps</h2>
<p>When the groups are created, the results can be shown using the world
map. We are going to use the function <code>map_data()</code> which contains the
data to create a world map.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> map.world <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">map_data</span>(<span style="color:#e6db74">&#34;world&#34;</span>)
</span></span></code></pre></div><h2 id="co2">Co2</h2>
<p>In order to use the information from the built-in data (especially data
about the longitude and latitude of locations to plot countries as
polygons) the names of countries must be exactly the same, thus the
names in our data should be changed. As there were dissimilarities
between country names in the data world and our data, the changes had
been inspected. The code below shows the difference between country
names in both data. As data is cleaned, there is no difference between
the countries names. The detection of dissimilarities for further 3 data
will be done in the same way.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#75715e"># Detect dissimilarities</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">unique</span>(<span style="color:#a6e22e">na.omit</span>(co<span style="color:#f92672">$</span>Entity))<span style="color:#a6e22e">[c</span>(<span style="color:#a6e22e">which</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">unique</span>(<span style="color:#a6e22e">na.omit</span>(co<span style="color:#f92672">$</span>Entity)) <span style="color:#f92672">%in%</span> <span style="color:#a6e22e">unique</span>(<span style="color:#a6e22e">na.omit</span>(map.world<span style="color:#f92672">$</span>region))))]
</span></span></code></pre></div><pre><code>## factor(0)
## 193 Levels: Afghanistan Albania Algeria Andorra Angola ... Zimbabwe
</code></pre>
<p>Then, these two separate datasets should be joined together.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> map.world_joined <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">left_join</span>(co, map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;Entity&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;region&#39;</span>))
</span></span></code></pre></div><p>Now, we are going to plot the changes in the data. The reference year
for Co2 is chosen as 2011. In the remaining three plots only the
countries with changes are shown (with respect to the base year).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> themeplot <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">theme</span>(text <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Gill Sans&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>), 
</span></span><span style="display:flex;"><span>   legend.key.size <span style="color:#f92672">=</span> <span style="color:#a6e22e">unit</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#e6db74">&#34;lines&#34;</span>), panel.grid <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>   plot.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span>), plot.subtitle <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text</span>(size <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>), 
</span></span><span style="display:flex;"><span>   axis.text <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), axis.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
</span></span><span style="display:flex;"><span>     axis.ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), legend.position <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), legend.justification <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, 
</span></span><span style="display:flex;"><span>         <span style="color:#ae81ff">0</span>), legend.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>())
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span> finalplot <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(base <span style="color:#f92672">=</span> <span style="color:#ae81ff">2011</span>, current <span style="color:#f92672">=</span> <span style="color:#ae81ff">2014</span>, var <span style="color:#f92672">=</span> Co2, data <span style="color:#f92672">=</span> map.world_joined, 
</span></span><span style="display:flex;"><span>    initialdata <span style="color:#f92672">=</span> co) {
</span></span><span style="display:flex;"><span>    var <span style="color:#f92672">=</span> <span style="color:#a6e22e">enquo</span>(var)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">if </span>(base <span style="color:#f92672">==</span> current) {
</span></span><span style="display:flex;"><span>        data <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">is.na</span>(<span style="color:#f92672">!!</span>var)) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> base) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ggplot</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_polygon</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> long, y <span style="color:#f92672">=</span> lat, group <span style="color:#f92672">=</span> group.y, fill <span style="color:#f92672">=</span> group.x)) <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">scale_fill_brewer</span>(palette <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Set1&#34;</span>) <span style="color:#f92672">+</span> themeplot <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">labs</span>(subtitle <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(base)) <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_path</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>, 
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> long, y <span style="color:#f92672">=</span> lat, group <span style="color:#f92672">=</span> group.y))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    } else {
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        save <span style="color:#f92672">&lt;-</span> initialdata <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> base <span style="color:#f92672">|</span> Year <span style="color:#f92672">==</span> current) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">==</span> <span style="color:#a6e22e">lag</span>(Entity), group <span style="color:#f92672">!=</span> <span style="color:#a6e22e">lag</span>(group)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">left_join</span>(., map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Entity <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;region&#34;</span>))
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        save <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">ggplot</span>() <span style="color:#f92672">+</span> <span style="color:#a6e22e">geom_polygon</span>(data <span style="color:#f92672">=</span> map.world, <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> long, y <span style="color:#f92672">=</span> lat, 
</span></span><span style="display:flex;"><span>            group <span style="color:#f92672">=</span> group), fill <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;gray81&#34;</span>) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">geom_polygon</span>(<span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> long, y <span style="color:#f92672">=</span> lat, 
</span></span><span style="display:flex;"><span>            group <span style="color:#f92672">=</span> group.y, fill <span style="color:#f92672">=</span> group.x)) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">scale_fill_manual</span>(values <span style="color:#f92672">=</span> <span style="color:#a6e22e">brewer.pal</span>(n <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>, 
</span></span><span style="display:flex;"><span>            name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Set1&#34;</span>)<span style="color:#a6e22e">[as.numeric</span>(<span style="color:#a6e22e">sort</span>(<span style="color:#a6e22e">unique</span>(save <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">select</span>(group.x) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">pull</span>())))]) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>            themeplot <span style="color:#f92672">+</span> <span style="color:#a6e22e">labs</span>(subtitle <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(current)) <span style="color:#f92672">+</span> 
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">geom_path</span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">aes</span>(x <span style="color:#f92672">=</span> long, y <span style="color:#f92672">=</span> lat, group <span style="color:#f92672">=</span> group.y))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>To see the changes in two directions (increase <em>or</em> decrease), we need
to create functions that extract from the initial data the name of the
country which experienced increase or decrease, the year of change and
the group:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> returndataup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(data, base, current) {
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>     data <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> base <span style="color:#f92672">|</span> Year <span style="color:#f92672">==</span> current) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">==</span> <span style="color:#a6e22e">lag</span>(Entity), <span style="color:#a6e22e">as.numeric</span>(group) <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#a6e22e">lag</span>(group))) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">left_join</span>(., map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Entity <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;region&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">distinct</span>(Entity, .keep_all <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group.x)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> returndatadown <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(data, base, current) {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>     data <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> base <span style="color:#f92672">|</span> Year <span style="color:#f92672">==</span> current) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">==</span> <span style="color:#a6e22e">lag</span>(Entity), <span style="color:#a6e22e">as.numeric</span>(group) <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">as.numeric</span>(<span style="color:#a6e22e">lag</span>(group))) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">left_join</span>(., map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(Entity <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;region&#34;</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">distinct</span>(Entity, .keep_all <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group.x)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And, finally, using the function above the changes can be detected on
the created map:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">annotate_figure</span>(<span style="color:#a6e22e">ggarrange</span>(<span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2011</span>), <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2013</span>), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2015</span>), <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2017</span>), ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, common.legend <span style="color:#f92672">=</span> F),
</span></span><span style="display:flex;"><span>   top <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_grob</span>(<span style="color:#e6db74">&#34;Carbon dioxide emissions in 2011, 2013, 2015 and 2017&#34;</span>, 
</span></span><span style="display:flex;"><span>   face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>))
</span></span></code></pre></div><p><img src="../Changes-in-air-pollution/cogr-1.png" alt=""></p>
<p>Countries that experienced an increase in the level of carbon dioxide
emissions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> coup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(co<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">select</span>(Entity, Year, group)<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2011</span>)<span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), <span style="color:#a6e22e">returndataup</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2013</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">returndataup</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2015</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">returndataup</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2017</span>))<span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">arrange</span>(Entity)<span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x) 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(coup<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(coup<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity<span style="color:#f92672">~</span>Year))<span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2011</th>
<th>2013</th>
<th>2015</th>
<th>2017</th>
</tr>
</thead>
<tbody>
<tr>
<td>Andorra</td>
<td>(3,6]</td>
<td></td>
<td>(6,12.5]</td>
<td>(6,12.5]</td>
</tr>
<tr>
<td>Bahamas</td>
<td>(3,6]</td>
<td>(6,12.5]</td>
<td>(6,12.5]</td>
<td>(6,12.5]</td>
</tr>
<tr>
<td>Botswana</td>
<td>(1.5,3]</td>
<td></td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
<tr>
<td>India</td>
<td>(0,1.5]</td>
<td>(1.5,3]</td>
<td>(1.5,3]</td>
<td>(1.5,3]</td>
</tr>
<tr>
<td>Kyrgyzstan</td>
<td>(0,1.5]</td>
<td>(1.5,3]</td>
<td>(1.5,3]</td>
<td>(1.5,3]</td>
</tr>
<tr>
<td>Maldives</td>
<td>(1.5,3]</td>
<td></td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
<tr>
<td>Mongolia</td>
<td>(6,12.5]</td>
<td>(12.5,25]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Namibia</td>
<td>(0,1.5]</td>
<td></td>
<td>(1.5,3]</td>
<td>(1.5,3]</td>
</tr>
<tr>
<td>Palau</td>
<td>(6,12.5]</td>
<td></td>
<td>(12.5,25]</td>
<td>(12.5,25]</td>
</tr>
<tr>
<td>Seychelles</td>
<td>(3,6]</td>
<td></td>
<td></td>
<td>(6,12.5]</td>
</tr>
<tr>
<td>Turkmenistan</td>
<td>(6,12.5]</td>
<td></td>
<td>(12.5,25]</td>
<td>(12.5,25]</td>
</tr>
<tr>
<td>Venezuela</td>
<td>(3,6]</td>
<td>(6,12.5]</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Countries that experienced a decrease in the level of carbon dioxide
emissions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> codown <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(co<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">select</span>(Entity, Year, group)<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2011</span>)<span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), <span style="color:#a6e22e">returndatadown</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2013</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">returndatadown</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2015</span>),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">returndatadown</span>(co, <span style="color:#ae81ff">2011</span>, <span style="color:#ae81ff">2017</span>))<span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">arrange</span>(Entity)<span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(codown<span style="color:#f92672">%&gt;%</span><span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(codown<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity<span style="color:#f92672">~</span>Year))<span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2011</th>
<th>2013</th>
<th>2015</th>
<th>2017</th>
</tr>
</thead>
<tbody>
<tr>
<td>Belize</td>
<td>(1.5,3]</td>
<td>(0,1.5]</td>
<td>(0,1.5]</td>
<td>(0,1.5]</td>
</tr>
<tr>
<td>Bulgaria</td>
<td>(6,12.5]</td>
<td>(3,6]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Cyprus</td>
<td>(6,12.5]</td>
<td>(3,6]</td>
<td>(3,6]</td>
<td></td>
</tr>
<tr>
<td>Equatorial Guinea</td>
<td>(6,12.5]</td>
<td>(3,6]</td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
<tr>
<td>Estonia</td>
<td>(12.5,25]</td>
<td></td>
<td>(6,12.5]</td>
<td></td>
</tr>
<tr>
<td>Italy</td>
<td>(6,12.5]</td>
<td></td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
<tr>
<td>Malta</td>
<td>(6,12.5]</td>
<td>(3,6]</td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
<tr>
<td>North Korea</td>
<td>(1.5,3]</td>
<td>(0,1.5]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Qatar</td>
<td>(37.5,253]</td>
<td>(25,37.5]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Spain</td>
<td>(6,12.5]</td>
<td>(3,6]</td>
<td>(3,6]</td>
<td></td>
</tr>
<tr>
<td>UK</td>
<td>(6,12.5]</td>
<td></td>
<td></td>
<td>(3,6]</td>
</tr>
<tr>
<td>Ukraine</td>
<td>(6,12.5]</td>
<td></td>
<td>(3,6]</td>
<td>(3,6]</td>
</tr>
</tbody>
</table>
<h2 id="so2">SO2</h2>
<p>To see the changes onthe map the data for sulphur dioxide is created:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> map.world_joined2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">left_join</span>(so, map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;Entity&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;region&#39;</span> ))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">annotate_figure</span>(<span style="color:#a6e22e">ggarrange</span>(<span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1970</span>, So2, map.world_joined2, so), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1980</span>, So2, map.world_joined2, so), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1990</span>, So2, map.world_joined2, so), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">2000</span>, So2, map.world_joined2, so), 
</span></span><span style="display:flex;"><span>    ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, common.legend <span style="color:#f92672">=</span> F),
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>   top <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_grob</span>(<span style="color:#e6db74">&#34;Sulphur dioxide emissions in 1970, 1980, 1990 and 2000&#34;</span>, 
</span></span><span style="display:flex;"><span>   face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>))
</span></span></code></pre></div><p><img src="../Changes-in-air-pollution/sogr-1.png" alt=""></p>
<p>Countries that experienced an increase in the level of sulfur dioxide
emissions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> soup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(so <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">1970</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1980</span>), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1990</span>),
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">2000</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(soup <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(soup<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>1970</th>
<th>1980</th>
<th>1990</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr>
<td>Azerbaijan</td>
<td>(0.017,0.034]</td>
<td></td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Bahrain</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Benin</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Bosnia and Herzegovina</td>
<td>(0.034,0.07]</td>
<td></td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Botswana</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Brunei</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
</tr>
<tr>
<td>Bulgaria</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
<td></td>
</tr>
<tr>
<td>Cameroon</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>China</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Croatia</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Eritrea</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Estonia</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Gabon</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Greece</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Haiti</td>
<td>(0,0.001]</td>
<td></td>
<td>(0.001,0.017]</td>
<td></td>
</tr>
<tr>
<td>Iceland</td>
<td>(0.034,0.07]</td>
<td></td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Indonesia</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Iraq</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Israel</td>
<td>(0.034,0.07]</td>
<td></td>
<td></td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Jamaica</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Jordan</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Lebanon</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Lithuania</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Macedonia</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Malta</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Moldova</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Mongolia</td>
<td>(0,0.001]</td>
<td></td>
<td>(0.034,0.07]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Namibia</td>
<td>(0,0.001]</td>
<td>(0.07,0.2]</td>
<td>(0.034,0.07]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Nepal</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>North Korea</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td></td>
</tr>
<tr>
<td>Oman</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Panama</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Portugal</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Republic of Congo</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Russia</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Saudi Arabia</td>
<td>(0.017,0.034]</td>
<td>(0.07,0.2]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Singapore</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>South Korea</td>
<td>(0.017,0.034]</td>
<td></td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Spain</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Syria</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Trinidad</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Tunisia</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Turkey</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Turkmenistan</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>United Arab Emirates</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Yemen</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
</tr>
</tbody>
</table>
<p>Countries that experienced a decrease in the level of sulfur dioxide
emissions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> soup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(so <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">1970</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1980</span>), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">1990</span>),
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(so, <span style="color:#ae81ff">1970</span>, <span style="color:#ae81ff">2000</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(soup <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(soup<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>1970</th>
<th>1980</th>
<th>1990</th>
<th>2000</th>
</tr>
</thead>
<tbody>
<tr>
<td>Azerbaijan</td>
<td>(0.017,0.034]</td>
<td></td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Bahrain</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Benin</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Bosnia and Herzegovina</td>
<td>(0.034,0.07]</td>
<td></td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Botswana</td>
<td>(0,0.001]</td>
<td></td>
<td>(0.001,0.017]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Brunei</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
</tr>
<tr>
<td>Bulgaria</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td>(0.2,0.425]</td>
<td></td>
</tr>
<tr>
<td>Cameroon</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>China</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Croatia</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Eritrea</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Estonia</td>
<td>(0.07,0.2]</td>
<td>(0.2,0.425]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Gabon</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Greece</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Haiti</td>
<td>(0,0.001]</td>
<td></td>
<td>(0.001,0.017]</td>
<td></td>
</tr>
<tr>
<td>Iceland</td>
<td>(0.034,0.07]</td>
<td></td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Indonesia</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Iraq</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Israel</td>
<td>(0.034,0.07]</td>
<td></td>
<td></td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>Jamaica</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Jordan</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Lebanon</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Lithuania</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Macedonia</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Malta</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Moldova</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Mongolia</td>
<td>(0,0.001]</td>
<td></td>
<td>(0.034,0.07]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Namibia</td>
<td>(0,0.001]</td>
<td>(0.07,0.2]</td>
<td>(0.034,0.07]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Nepal</td>
<td>(0,0.001]</td>
<td></td>
<td></td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>North Korea</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td></td>
</tr>
<tr>
<td>Oman</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Panama</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
</tr>
<tr>
<td>Portugal</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Republic of Congo</td>
<td>(0.001,0.017]</td>
<td></td>
<td></td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Russia</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Saudi Arabia</td>
<td>(0.017,0.034]</td>
<td>(0.07,0.2]</td>
<td>(0.034,0.07]</td>
<td>(0.034,0.07]</td>
</tr>
<tr>
<td>Singapore</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
</tr>
<tr>
<td>South Korea</td>
<td>(0.017,0.034]</td>
<td></td>
<td>(0.034,0.07]</td>
<td></td>
</tr>
<tr>
<td>Spain</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Syria</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Trinidad</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Tunisia</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Turkey</td>
<td>(0.001,0.017]</td>
<td></td>
<td>(0.017,0.034]</td>
<td>(0.017,0.034]</td>
</tr>
<tr>
<td>Turkmenistan</td>
<td>(0.017,0.034]</td>
<td>(0.034,0.07]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>United Arab Emirates</td>
<td>(0.034,0.07]</td>
<td>(0.07,0.2]</td>
<td>(0.07,0.2]</td>
<td></td>
</tr>
<tr>
<td>Yemen</td>
<td>(0,0.001]</td>
<td>(0.001,0.017]</td>
<td>(0.001,0.017]</td>
<td>(0.017,0.034]</td>
</tr>
</tbody>
</table>
<h2 id="pm">PM</h2>
<p>To see the changes on the map the data for particulate matter is
created:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> map.world_joined3 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">left_join</span>(pm, map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;Entity&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;region&#39;</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">annotate_figure</span>(<span style="color:#a6e22e">ggarrange</span>(<span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2010</span>,<span style="color:#ae81ff">2010</span>, PM, map.world_joined3, pm),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2010</span>,<span style="color:#ae81ff">2012</span>, PM, map.world_joined3, pm), 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2010</span>,<span style="color:#ae81ff">2014</span>, PM, map.world_joined3, pm),
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2010</span>,<span style="color:#ae81ff">2016</span>, PM, map.world_joined3, pm), 
</span></span><span style="display:flex;"><span>   ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, common.legend <span style="color:#f92672">=</span> F),
</span></span><span style="display:flex;"><span>   top <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_grob</span>(<span style="color:#e6db74">&#34;Particulate matter esmissions in 2010, 2012, 2014, 2016&#34;</span>, 
</span></span><span style="display:flex;"><span>   face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>))
</span></span></code></pre></div><p><img src="../Changes-in-air-pollution/pmgr-1.png" alt=""></p>
<p>The main changes of particulate matter concentration refer to African
countries. In the table below, the groups of chosen countries show that
the amount of the most harmful pollutant type (particulate matter) was
high and became higher in comparison with the reference year 2010.</p>
<p>Here is the list of countries which experienced changes in 2012, 2014
and 2016 (reference year is 2010), correspondingly. Countries which
experienced an increase in the level of particulate matter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> pmup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(pm <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2011</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2012</span>),
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2014</span>), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndataup</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2016</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(pmup <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(pmup<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2011</th>
<th>2012</th>
<th>2014</th>
<th>2016</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bangladesh</td>
<td>(65.4,86.1]</td>
<td></td>
<td>(86.1,204]</td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Belize</td>
<td>(12,24]</td>
<td>(24,44.7]</td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Benin</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Brazil</td>
<td>(3.29,12]</td>
<td></td>
<td></td>
<td>(12,24]</td>
</tr>
<tr>
<td>Burkina Faso</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Burundi</td>
<td>(24,44.7]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Cameroon</td>
<td>(65.4,86.1]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Cape Verde</td>
<td>(24,44.7]</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Central African Republic</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Chad</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Democratic Republic of the Congo</td>
<td>(24,44.7]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Djibouti</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Equatorial Guinea</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Eritrea</td>
<td>(24,44.7]</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Ethiopia</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Gabon</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Gambia</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Ghana</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Greece</td>
<td>(3.29,12]</td>
<td></td>
<td>(12,24]</td>
<td></td>
</tr>
<tr>
<td>Guinea</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Guinea-Bissau</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Haiti</td>
<td>(12,24]</td>
<td>(24,44.7]</td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Hungary</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>India</td>
<td>(44.7,65.4]</td>
<td>(65.4,86.1]</td>
<td>(65.4,86.1]</td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Lesotho</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Liberia</td>
<td>(3.29,12]</td>
<td></td>
<td></td>
<td>(12,24]</td>
</tr>
<tr>
<td>Mali</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Mauritania</td>
<td>(65.4,86.1]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Mongolia</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Morocco</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Namibia</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Nepal</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(65.4,86.1]</td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Nicaragua</td>
<td>(24,44.7]</td>
<td>(24,44.7]</td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Nigeria</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Oman</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Pakistan</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Panama</td>
<td>(3.29,12]</td>
<td></td>
<td>(12,24]</td>
<td>(12,24]</td>
</tr>
<tr>
<td>Papua New Guinea</td>
<td>(12,24]</td>
<td>(12,24]</td>
<td>(12,24]</td>
<td>(12,24]</td>
</tr>
<tr>
<td>Rwanda</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Senegal</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Singapore</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>South Sudan</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Sudan</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Swaziland</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Switzerland</td>
<td>(3.29,12]</td>
<td></td>
<td>(12,24]</td>
<td></td>
</tr>
<tr>
<td>Thailand</td>
<td>(12,24]</td>
<td></td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Togo</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Uganda</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>UK</td>
<td>(3.29,12]</td>
<td>(12,24]</td>
<td>(12,24]</td>
<td></td>
</tr>
<tr>
<td>United Arab Emirates</td>
<td>(65.4,86.1]</td>
<td></td>
<td></td>
<td>(86.1,204]</td>
</tr>
<tr>
<td>Uzbekistan</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Venezuela</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
<tr>
<td>Yemen</td>
<td>(44.7,65.4]</td>
<td></td>
<td></td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Zimbabwe</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(24,44.7]</td>
</tr>
</tbody>
</table>
<p>Countries which experienced a decrease in the level of particulate
matter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> pmdown <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(pm <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2011</span>) <span style="color:#f92672">%&gt;%</span>  <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">returndatadown</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2012</span>), 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">returndatadown</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2014</span>), 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">returndatadown</span>(pm, <span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">2016</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(pmdown <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(pmdown<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2011</th>
<th>2012</th>
<th>2014</th>
<th>2016</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bahrain</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(44.7,65.4]</td>
<td></td>
</tr>
<tr>
<td>Bolivia</td>
<td>(24,44.7]</td>
<td></td>
<td></td>
<td>(12,24]</td>
</tr>
<tr>
<td>Burkina Faso</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>France</td>
<td>(12,24]</td>
<td></td>
<td></td>
<td>(3.29,12]</td>
</tr>
<tr>
<td>Iran</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Iraq</td>
<td>(65.4,86.1]</td>
<td>(65.4,86.1]</td>
<td>(44.7,65.4]</td>
<td>(65.4,86.1]</td>
</tr>
<tr>
<td>Japan</td>
<td>(3.29,12]</td>
<td>(3.29,12]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Kuwait</td>
<td>(86.1,204]</td>
<td></td>
<td>(65.4,86.1]</td>
<td></td>
</tr>
<tr>
<td>Libya</td>
<td>(44.7,65.4]</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(44.7,65.4]</td>
</tr>
<tr>
<td>Niger</td>
<td>(86.1,204]</td>
<td></td>
<td>(65.4,86.1]</td>
<td></td>
</tr>
<tr>
<td>Nigeria</td>
<td>(44.7,65.4]</td>
<td></td>
<td>(24,44.7]</td>
<td></td>
</tr>
<tr>
<td>Sierra Leone</td>
<td>(24,44.7]</td>
<td></td>
<td>(12,24]</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="oz">OZ</h2>
<p>To see the changes on the map the data for ozone is created:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> map.world_joined4 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">left_join</span>(oz,map.world, by <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;Entity&#39;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;region&#39;</span> ))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> <span style="color:#a6e22e">annotate_figure</span>(<span style="color:#a6e22e">ggarrange</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2005</span>, OZ, map.world_joined4, oz),
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2010</span>, OZ, map.world_joined4, oz), 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2013</span>, OZ, map.world_joined4, oz), 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">finalplot</span>(<span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2015</span>, OZ, map.world_joined4, oz), 
</span></span><span style="display:flex;"><span>   ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, common.legend <span style="color:#f92672">=</span> F), 
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>   top <span style="color:#f92672">=</span> <span style="color:#a6e22e">text_grob</span>(<span style="color:#e6db74">&#34;Concentration of ozone in 2005, 2010, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          2013, 2015&#34;</span>, face <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bold&#34;</span>, size <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>))
</span></span></code></pre></div><p><img src="../Changes-in-air-pollution/ozgr-1.png" alt=""></p>
<p>Countries which experienced an increase in the level of ozone
concentration:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span> ozup <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(oz <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2005</span>) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">returndataup</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2010</span>), 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">returndataup</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2013</span>), 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">returndataup</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2015</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(ozup <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(ozup<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2005</th>
<th>2010</th>
<th>2013</th>
<th>2015</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bangladesh</td>
<td>(56.6,67.4]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Bhutan</td>
<td>(56.6,67.4]</td>
<td></td>
<td></td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Bolivia</td>
<td>(45.7,56.6]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Cambodia</td>
<td>(34.9,45.7]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
</tr>
<tr>
<td>Colombia</td>
<td>(34.9,45.7]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
</tr>
<tr>
<td>El Salvador</td>
<td>(45.7,56.6]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Laos</td>
<td>(45.7,56.6]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Malaysia</td>
<td>(34.9,45.7]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
</tr>
<tr>
<td>Maldives</td>
<td>(45.7,56.6]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Myanmar</td>
<td>(67.4,78.3]</td>
<td></td>
<td></td>
<td>(78.3,116]</td>
</tr>
<tr>
<td>North Korea</td>
<td>(56.6,67.4]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Pakistan</td>
<td>(56.6,67.4]</td>
<td></td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Paraguay</td>
<td>(45.7,56.6]</td>
<td></td>
<td></td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Saudi Arabia</td>
<td>(56.6,67.4]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>South Korea</td>
<td>(56.6,67.4]</td>
<td></td>
<td></td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Taiwan</td>
<td>(56.6,67.4]</td>
<td></td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Thailand</td>
<td>(45.7,56.6]</td>
<td></td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Venezuela</td>
<td>(34.9,45.7]</td>
<td></td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
</tr>
<tr>
<td>Zimbabwe</td>
<td>(45.7,56.6]</td>
<td></td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
</tbody>
</table>
<p>Countries which experienced a decrease in the level of ozone
concentration:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>  ozdown <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rbind</span>(oz <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">select</span>(Entity, Year, group) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filter</span>(Year <span style="color:#f92672">==</span> <span style="color:#ae81ff">2005</span>) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rename</span>(group.x <span style="color:#f92672">=</span> group), 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">returndatadown</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2010</span>), 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">returndatadown</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2013</span>), 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">returndatadown</span>(oz, <span style="color:#ae81ff">2005</span>, <span style="color:#ae81ff">2015</span>)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrange</span>(Entity) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rename</span>(Group <span style="color:#f92672">=</span> group.x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">options</span>(knitr.kable.NA <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>knitr<span style="color:#f92672">::</span><span style="color:#a6e22e">kable</span>(<span style="color:#a6e22e">dcast</span>(ozdown <span style="color:#f92672">%&gt;%</span> <span style="color:#a6e22e">filter</span>(Entity <span style="color:#f92672">%in%</span> 
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">names</span>(<span style="color:#a6e22e">which</span>(<span style="color:#a6e22e">table</span>(ozdown<span style="color:#f92672">$</span>Entity) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>))), Entity <span style="color:#f92672">~</span> Year)) <span style="color:#f92672">%&gt;%</span> 
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">kable_styling</span>(bootstrap_options <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;striped&#34;</span>, full_width <span style="color:#f92672">=</span> F)
</span></span></code></pre></div><table>
<thead>
<tr>
<th>Entity</th>
<th>2005</th>
<th>2010</th>
<th>2013</th>
<th>2015</th>
</tr>
</thead>
<tbody>
<tr>
<td>Central African Republic</td>
<td>(78.3,116]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
<td>(67.4,78.3]</td>
</tr>
<tr>
<td>Nigeria</td>
<td>(67.4,78.3]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
<tr>
<td>Norway</td>
<td>(45.7,56.6]</td>
<td></td>
<td>(34.9,45.7]</td>
<td>(34.9,45.7]</td>
</tr>
<tr>
<td>Portugal</td>
<td>(56.6,67.4]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
<td>(45.7,56.6]</td>
</tr>
<tr>
<td>USA</td>
<td>(67.4,78.3]</td>
<td></td>
<td>(56.6,67.4]</td>
<td>(56.6,67.4]</td>
</tr>
</tbody>
</table>
<h2 id="conclusion">Conclusion</h2>
<p>Apart from affecting our health, a decrease in the level of air quality
is causing long-term environmental damage by driving climate change,
which is itself a danger for people and their health. Thus the air
pollution level should be well monitored by countries, analyzed and the
appropriate action should be taken into consideration.</p>
<p>The analysis of the data shows that in both high-income countries with
well-developed air quality monitoring networks and low- and
middle-income countries with poor data coverage, the condition of
outdoor air pollution becomes worse. To sum up, by considering certain
reference year for each pollution type, we can point out the following
facts:</p>
<ul>
<li>CO2 (Reference year is 2011)</li>
</ul>
<p>In recent years, the changes in carbon dioxide emissions are not sharp.
For example, in 2013, 3% of counties experienced an increase and 4% of
them experienced a decrease in the level of carbon dioxide emissions.
Similarly, in 2015, 5% of countries and 4% of countries; in 2017, 5% and
3% of countries experienced an increase and a decrease correspondingly
in the level of carbon dioxide emissions.</p>
<ul>
<li>SO2 (Reference year is 1970)</li>
</ul>
<p>In 1980, 22% of counties experienced an increase and 9% of them
experienced a decrease in the level of sulphur dioxide emissions.
Similarly, in 1990, 25% of countries and 22% of countries; in 2000, 22%
and 35% of countries experienced an increase and a decrease
correspondingly in the level of sulphur dioxide emissions.</p>
<ul>
<li>PM (Reference year is 2010)</li>
</ul>
<p>In 2012, 7% and 2% of countries show the increase and decrease in the
amount of particulate matter in the air, accordingly. In 2014, 8% and 4%
of countries show the increase and decrease in the amount of particulate
matter in the air, accordingly. In 2016, 25% and 2% of countries show
the increase and decrease in the amount of particulate matter in the
air, accordingly.</p>
<ul>
<li>OZ (Reference year is 2005)</li>
</ul>
<p>In 2010, 5% and 2% of countries show an increase and decrease in the
level of ozone concentration in the air, accordingly. In 2013, 8% and 3%
of countries show an increase and decrease in the level of ozone
concentration in the air, accordingly. In 2015, 10% and 3% of countries
show an increase and decrease in the level of ozone concentration in the
air, accordingly.</p>

      </article>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1">
      <hr />
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-2">
      
      <div class="blog-tags">
        
        <a href="https://DatamotusBlog.netlify.app//tags/data-analysis/">Data Analysis</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/air-quality-monitoring/">Air Quality Monitoring</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/environmental-science/">Environmental Science</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/outlier-detection/">Outlier Detection</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/ozone-concentration/">Ozone Concentration</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/carbon-dioxide-emissions/">Carbon Dioxide Emissions</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/health-risks/">Health Risks</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/climate-change/">Climate Change</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/sulphur-dioxide-emissions/">Sulphur Dioxide Emissions</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/lung-cancer/">Lung Cancer</a>
        
        <a href="https://DatamotusBlog.netlify.app//tags/who/">WHO</a>
        
      </div>
      
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
      
    </div>
    <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 mt-3">
      <div class="card">
        <div class="row no-gutters">
          <div class="col-md-2 ">
            <div class="card-body ">
              <p class="p-0 m-0"><small class="text-muted "></small></p>
              <img src="/img/logo.png" class="img-responsive img-50" alt="">
            </div>
          </div>
          <div class="col-md-10">
            <div>
              <h5>
                
                
                
                
                
              </h5>
              <p class="card-text fs-1"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
    
    <ul class="list-group list-group-horizontal" style="flex-direction: row">
      
      <li class="list-group-item b-0">
        <a type="button" class="btn btn-dark" role="button" href="https://DatamotusBlog.netlify.app/notes/2020/2019-11-15-outlier-detection/"
          data-toggle="tooltip" data-placement="top" title="Outlier Detection in Air Pollution Data"
          onclick="parent.postMessage({ scrollReactAppToTop: true }, '*');">&larr;
          Previous Post</a>
      </li>
      
      
      <li class="list-group-item ms-auto b-0">
        <a type="button" class="btn btn-dark" role="button" href="https://DatamotusBlog.netlify.app/notes/2020/2019-12-20-shapley-value-regression/"
          data-toggle="tooltip" data-placement="top" title="Shapley Value Regression"
          onclick="parent.postMessage({ scrollReactAppToTop: true }, '*');">Next Post
          &rarr;</a>
      </li>
      
    </ul>
    
  </div>
  <div class="col-lg-8 offset-lg-2 col-md-10 offset-md-1 pt-4">
  </div>
</div>
</div>
<footer id="blog-footer"></footer>
</div>

    
    <script src="/node_modules/iframe-resizer/js/iframeResizer.contentWindow.min.js"></script>
   

  </body>
</html>
